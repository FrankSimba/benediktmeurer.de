---
layout: default
---

<article class="post">
  <h3><a href="{{ page.url }}" rel="bookmark permalink" title="Permanent link to this post">{{ page.title }}</a></h3>

  {{ content }}

  <a class="follow-box" href="https://twitter.com/{{ site.twitter }}">
    <h3>You should probably follow <strong>@{{ site.twitter }}</strong> on Twitter</h3>
    <p id="twitter_status" class="subtext">
    </p>
    <script type="text/javascript">
      function twitterCallback2(twitters) {
        var statusHTML = [];
        for (var i=0; i<twitters.length; i++){
          var username = twitters[i].user.screen_name;
          var status = twitters[i].text.replace(/((https?|s?ftp|ssh)\:\/\/[^"\s\<\>]*[^.,;'">\:\s\<\>\)\]\!])/g, function(url) {
            return '<a href="'+url+'">'+url+'</a>';
          }).replace(/\B@([_a-z0-9]+)/ig, function(reply) {
            return  reply.charAt(0)+'<a href="http://twitter.com/'+reply.substring(1)+'">'+reply.substring(1)+'</a>';
          });
          statusHTML.push('<span>'+status+'</span> <a style="font-size:85%" href="http://twitter.com/'+username+'/statuses/'+twitters[i].id_str+'">'+relative_time(twitters[i].created_at)+'</a>');
        }
        document.getElementById('twitter_status').innerHTML = statusHTML.join('');
      }
      function relative_time(time_value) {
        var values = time_value.split(" ");
        time_value = values[1] + " " + values[2] + ", " + values[5] + " " + values[3];
        var parsed_date = Date.parse(time_value);
        var relative_to = (arguments.length > 1) ? arguments[1] : new Date();
        var delta = parseInt((relative_to.getTime() - parsed_date) / 1000);
        delta = delta + (relative_to.getTimezoneOffset() * 60);
        if (delta < 60) {
          return 'less than a minute ago';
        } else if(delta < 120) {
          return 'about a minute ago';
        } else if(delta < (60*60)) {
          return (parseInt(delta / 60)).toString() + ' minutes ago';
        } else if(delta < (120*60)) {
          return 'about an hour ago';
        } else if(delta < (24*60*60)) {
          return 'about ' + (parseInt(delta / 3600)).toString() + ' hours ago';
        } else if(delta < (48*60*60)) {
          return '1 day ago';
        } else {
          return (parseInt(delta / 86400)).toString() + ' days ago';
        }
      }
    </script>
    <script type="text/javascript" src="https://api.twitter.com/1/statuses/user_timeline.json?include_entities=true&amp;include_rts=true&amp;screen_name={{ site.twitter }}&amp;count=1&amp;callback=twitterCallback2"></script>
  </a>

  <div class="meta">
    <div class="published">
      Published: {{ page.date | date:'%Y-%m-%d' }}
    </div>
    <div class="tweet"><a href="http://twitter.com/?status=Reading '{{ page.title }}' from {{ site.url }}{{ page.url }} by @{{ site.twitter }}" title="Tweet {{ page.title }}">Tweet</a> &amp; <a class="permalink" href="{{ site.url }}{{ page.url }}" rel="bookmark permalink" title="Permalink for {{ page.title }}">Permalink</a>
  </div>
</article>

<div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_shortname = 'benediktmeurer';
  var disqus_url = '{{ site.url }}{{ page.url }}';
  (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
